{% extends "base.html" %} {% block start %}

<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    {% if request.GET.mine %}

    <h1 class="text-center flex-grow-1">Your Blogs</h1>
    {% else %}
    <h1 class="text-center flex-grow-1">All Blogs</h1>
    {% endif %} {% if user.is_authenticated %}
    <div class="ms-3">
      {% if request.GET.mine %}
      <a href="{% url 'show' %}" class="btn btn-outline-primary"
        >Show All Posts</a
      >
      {% else %}
      <a href="{% url 'show' %}?mine=true" class="btn btn-outline-primary"
        >Show My Posts</a
      >
      {% endif %}
    </div>
    {% endif %}
  </div>

  <div style="max-width: 700px; margin: auto">
    {% for blog in blogs %}
    <div style="border: 1px solid #ccc; padding: 15px; margin-bottom: 20px">
      <p><strong>ID:</strong> {{ blog.id }}</p>
      <p><strong>Title:</strong> {{ blog.title }}</p>
      <p><strong>Author:</strong> {{ blog.user.username }}</p>
      <p><strong>Content:</strong> {{ blog.content }}</p>

      {% if blog.user == request.user %}
      <a href="{% url 'update_button' blog.id %}" class="btn btn-success me-3"
        >Update</a
      >
      <a href="{% url 'delete_button' blog.id %}" class="btn btn-danger"
        >Delete</a
      >
      {% endif %}
    </div>
    {% empty %}
    <p class="text-center">No blogs available.</p>
    {% endfor %}
  </div>
</div>

{% endblock %}
